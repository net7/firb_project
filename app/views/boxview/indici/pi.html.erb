<%= boxview_widget 'Navigation', :class => "menu widget_draggable" do |w|
  w.content "<ul>"

  # anastatica 
  m = @models[:anastatica]
  w.content "<li class='menu_firstlevel leaf'>"
  w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
  w.content "</li>"

  # illustrazioni 
  m = @models[:illustrazioni]
  w.content "<li class='menu_firstlevel leaf'>"
  w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
  w.content "</li>"

#  # immagini di memoria
#  m = @models[:illustrazioni] 
#  w.content "<li class='menu_firstlevel'><a href='#' onclick='return false' class='menu collapsed'>Immagini di memoria Illustrate</a><ul>" 

#  {"animali" => "animali", "luoghi" => "luoghi", "numeri" => "numeri", "lettere" => "lettere dell`alfabeto", "persone" => "persone", "oggetti" => "oggetti"}.each do |key, type|

#    w.content "<li class='menu_secondlevel leaf'>" 
#    w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}/#{type}", I18n.t("menu.pi.non_illustrated_#{key}"), "Indice " + I18n.t("menu.pi.non_illustrated_#{key}"), "pi_index_non_illustrated_#{key}", :index)
#    w.content "</li>"
#  end
#  w.content "</ul></li>"


 # immagini di memoria illustrate
  w.content "<li class='menu_firstlevel'><a href='#' onclick='return false' class='menu collapsed'>Immagini di memoria illustrate</a><ul>"
  {"animali" => "animali", "luoghi" => "luoghi", "numeri" => "numeri", "lettere" => "lettere dell`alfabeto", "persone" => "persone", "oggetti" => "oggetti"}.each do |key, category|
    w.content "<li class='menu_secondlevel leaf'>"
    w.content boxview_link("/boxview/indici/pi_memory_illustrated_category?category=#{URI.encode category.to_s.downcase}",
                           I18n.t("menu.pi.non_illustrated_#{key}"),
                           "Indice " + I18n.t("menu.pi.non_illustrated_#{key}"),
                           "pi_non_index_illustrated_#{URI.escape key}",
                           :index)
    w.content "</li>"
  end
  w.content "</ul></li>"
  



 # immagini di memoria non illustrate
  w.content "<li class='menu_firstlevel'><a href='#' onclick='return false' class='menu collapsed'>Immagini di memoria non illustrate</a><ul>"
  {"animali" => "animali", "luoghi" => "luoghi", "numeri" => "numeri", "lettere" => "lettere dell`alfabeto", "persone" => "persone", "oggetti" => "oggetti"}.each do |key,  category| 
    w.content "<li class='menu_secondlevel leaf'>"
    w.content boxview_link("/boxview/indici/pi_memory_category?category=#{URI.encode category.to_s.downcase}",
                           I18n.t("menu.pi.illustrated_#{key}"),
                           "Indice " + I18n.t("menu.pi.illustrated_#{key}"),
                           "pi_index_illustrated_#{URI.escape key}",
                           :index)
    w.content "</li>"
  end
  w.content "</ul></li>"
  
  # Per nomi
  w.content "<li class='menu_firstlevel'><a href='#' onclick='return false' class='menu collapsed'>Nomi di</a><ul>"
  {"persone" => "nome di persona", "luoghi" => "nome di luogo"}.each do |key,  name| 
    w.content "<li class='menu_secondlevel leaf'>"
    w.content boxview_link("/boxview/indici/pi_name?category=#{URI.encode name.to_s.downcase}",
                           I18n.t("menu.pi.name_#{key}"),
                           "Indice " + I18n.t("menu.pi.name_#{key}"),
                           "pi_index_illustrated_#{URI.escape key}",
                           :index)
    w.content "</li>"
  end
  w.content "</ul></li>"



  # Schede testo
  m = @models[:schede_testo]
  w.content "<li class='menu_firstlevel leaf'>"
  w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
  w.content "</li>"

  # Iconclass
  m = @models[:iconclass]
  w.content "<li class='menu_firstlevel leaf'>"
  w.content boxview_link("/boxview/indici/show_grouped_iconclass", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
  w.content "</li>"

  # Fulltext search
  w.content "<li class='menu_firstlevel leaf'>"
  w.content render(:partial => '/boxview/shared/search', :object => :pi)
  w.content "</li>"

  w.content "</ul>"
end
%>
