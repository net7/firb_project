<%#= 
    boxview_widget 'TEMP DA RIMUOVERE', :class => "index widget_draggable" do |w|
        w.content "<ul>"
        @temp_models.each do |c,m|
            w.content "<li>"
            w.content boxview_link("/boxview/indici/#{c}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index) 
            w.content "</li>"
        end 
        w.content %[
              <li>Altra voce</li>
              <li>Altra voce numero due</li>
              <li>Pure la terza</li>
            </ul>
        ]
    end
%>


<%= 
    boxview_widget 'Navigation', :class => "menu widget_draggable" do |w|
        w.content "<ul>"

        # anastatica 
        m = @models[:anastatica]
        w.content "<li class='menu_firstlevel leaf'>"
        w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
        w.content "</li>"

        # illustrazioni 
        m = @models[:illustrazioni]
        w.content "<li class='menu_firstlevel leaf'>"
        w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
        w.content "</li>"

        # immagini di memoria
        #m = @models[:immagini_memoria]
        #w.content "<li>"
        #w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
        #w.content "</li>"

        m = @models[:illustrazioni]
        w.content "<li class='menu_firstlevel'>Immagini di memoria<ul><li>"
        types = ImageComponent.zone_types_for(PiIllustrationCard)
        types.each do |type|
          w.content "<li class='menu_secondlevel leaf'>"
          w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}/#{type}", type, "Indice #{type}", "index_type", :index)
          w.content "</li>"
        end
        w.content "</li></ul></li>"

        # testo
        m = @models[:schede_testo]
        w.content "<li class='menu_firstlevel'>"
        w.content boxview_link("/boxview/indici/#{@collection_id}/#{m.tableize}", I18n.t("#{m.tableize}.menu_item_name"), "Indice "+I18n.t("#{m.tableize}.menu_item_name"), "index_#{m.tableize}", :index)
        w.content "</li>"

        w.content "</ul>"
    end
%>